---
title: 网络接口数据处理结构
date: 2019-3-14 20:18:57
tags:
  - 结构设计
  - 网络
categories:
  - 基础
index_img: /images/OnePiece/backgroundimage.jpg #首页缩略图
---

> 原项目中，封装了一层网络请求和一个简单的 JSon 数据格式转换，代码多且复用成都低
> 界面中的数据数组类型是 NSMutableArray，没用制定数组中的数据类型
> 在获取到网络数据后，先转成数组，然后字典数组再转换成模型数组

# 新版本请求模式

1. 初始化数据数组的通知，指定数组的数据类型 `var array = [Model]()`
2. 现在请求方法返回的还是 json 格式的数据，没有实现根据数据结构返回

## 网络请求层

- 请求方法中可配参数。项目中用的少，基本用的 POST，所以可以省去配置请求

```示例
  struct Optional {
    var GETMethod: HTTPMethod = .GET
  }

  enum HTTPMethod: String {
    case GET,OPTIONS,HEAD,POST,PUT,PATCH,DELETE,TRACE,CONNECT
  }

```

- 请求方法的请求参数
- 请求方法 block 回调，成功，完成。失败或错误给出信息提示

## 数据处理层

1. 先实现通用协议，实现通用的方法

## 数据分拆层展示

星光社
swift cafe alamofire
简书 swift 网络数据处理流
github moya
